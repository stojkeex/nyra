<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BizMind AI - Your Personal AI Business Partner</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .bg-hero-pattern {
            background-color: #f8fafc;
            background-image: radial-gradient(circle at 1px 1px, #d1d5db 1px, transparent 0);
            background-size: 2rem 2rem;
        }
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.15);
        }
        .cta-button {
            transition: all 0.3s ease;
        }
        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        .feature-card, .pricing-card, .testimonial-card {
             transition: all 0.3s ease;
        }
        .feature-card:hover, .pricing-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        }
        /* Hide pages by default */
        .page {
            display: none;
        }
        /* Show the active page */
        .page.active {
            display: block;
        }
        /* Mobile menu transition */
        #mobile-menu {
            transition: transform 0.3s ease-in-out;
        }
        /* FAQ Accordion */
        details > summary { list-style: none; }
        details > summary::-webkit-details-marker { display: none; }
        details[open] summary .accordion-icon { transform: rotate(180deg); }

        /* Modal Styles */
        .modal-backdrop {
            transition: opacity 0.3s ease-in-out;
        }
        
        /* Loading Spinner */
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #1e3a8a;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .typing-indicator span {
            height: 8px;
            width: 8px;
            background-color: #9ca3af;
            border-radius: 50%;
            display: inline-block;
            animation: bounce 1.4s infinite ease-in-out both;
        }
        .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
        .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }
        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1.0); }
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Header -->
    <header class="fixed w-full z-50 glass-effect">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#home" onclick="handleNav(event, 'home')" class="flex items-center cursor-pointer">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#1e3a8a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-brain-circuit"><path d="M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A3 3 0 1 0 12 18Z"/><path d="M12 12a4 4 0 0 0 3.474 3.944A3 3 0 1 0 17 9.5a4 4 0 0 0-4.854-3.875Z"/><path d="M12 5a3 3 0 0 1 3 3"/><path d="M12 18a3 3 0 0 0 3-3"/><path d="M12 12a4 4 0 0 0-4 4"/><path d="M12 12a4 4 0 0 1 4-4"/></svg>
                <h1 class="text-2xl font-bold text-[#1e3a8a] ml-2">BizMind AI</h1>
            </a>
            <nav class="hidden md:flex items-center space-x-8">
                <a href="#home" onclick="handleNav(event, 'home')" class="nav-link text-gray-600 hover:text-[#1e3a8a]">Home</a>
                <a href="#networking" onclick="handleNav(event, 'networking')" class="nav-link text-gray-600 hover:text-[#1e3a8a]">Networking</a>
                <a href="#planner" onclick="handleNav(event, 'planner')" class="nav-link text-gray-600 hover:text-[#1e3a8a]">AI Tools</a>
                <a href="#promotion" onclick="handleNav(event, 'promotion')" class="nav-link text-gray-600 hover:text-[#1e3a8a]">Promotion</a>
                <a href="#chat" onclick="handleNav(event, 'chat')" class="nav-link text-gray-600 hover:text-[#1e3a8a]">Chat Bot</a>
                <a href="#premium" onclick="handleNav(event, 'premium')" class="nav-link text-gray-600 hover:text-[#1e3a8a]">Pricing</a>
                <a href="#about" onclick="handleNav(event, 'about')" class="nav-link text-gray-600 hover:text-[#1e3a8a]">About Us</a>
            </nav>
            <div class="md:hidden">
                <button id="hamburger-button" class="text-gray-800 focus:outline-none">
                    <i data-lucide="menu" class="w-6 h-6"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="fixed top-0 left-0 w-full h-full bg-white z-40 transform -translate-x-full md:hidden">
        <div class="flex justify-end p-6">
             <button id="close-menu-button" class="text-gray-800 focus:outline-none">
                <i data-lucide="x" class="w-6 h-6"></i>
            </button>
        </div>
        <nav class="flex flex-col items-center justify-center h-full -mt-16 space-y-8 text-2xl">
            <a href="#home" onclick="handleNav(event, 'home', true)" class="nav-link-mobile text-gray-800 hover:text-[#1e3a8a]">Home</a>
            <a href="#networking" onclick="handleNav(event, 'networking', true)" class="nav-link-mobile text-gray-800 hover:text-[#1e3a8a]">Networking</a>
            <a href="#planner" onclick="handleNav(event, 'planner', true)" class="nav-link-mobile text-gray-800 hover:text-[#1e3a8a]">AI Tools</a>
            <a href="#promotion" onclick="handleNav(event, 'promotion', true)" class="nav-link-mobile text-gray-800 hover:text-[#1e3a8a]">Promotion</a>
            <a href="#chat" onclick="handleNav(event, 'chat', true)" class="nav-link-mobile text-gray-800 hover:text-[#1e3a8a]">Chat Bot</a>
            <a href="#premium" onclick="handleNav(event, 'premium', true)" class="nav-link-mobile text-gray-800 hover:text-[#1e3a8a]">Pricing</a>
            <a href="#about" onclick="handleNav(event, 'about', true)" class="nav-link-mobile text-gray-800 hover:text-[#1e3a8a]">About Us</a>
        </nav>
    </div>

    <main>
        <!-- Home Page -->
        <div id="page-home" class="page active">
            <section class="bg-hero-pattern pt-32 pb-20 md:pt-48 md:pb-32 text-center">
                <div class="container mx-auto px-6">
                    <h1 class="text-4xl md:text-6xl font-bold text-gray-900 leading-tight">Your Personal <span class="text-[#1e3a8a]">AI Business Partner</span></h1>
                    <p class="mt-6 text-lg md:text-xl text-gray-600 max-w-3xl mx-auto">Get real-time insights, automated strategies, and intelligent tools to build, launch, and grow your business – all powered by a single, business-focused AI.</p>
                    <div class="mt-10 flex justify-center items-center space-x-4">
                        <a href="#premium" onclick="handleNav(event, 'premium')" class="cta-button bg-[#1e3a8a] text-white px-8 py-4 rounded-lg font-bold text-lg">Get Started Free</a>
                        <a href="#planner" onclick="handleNav(event, 'planner')" class="cta-button bg-white text-[#1e3a8a] px-8 py-4 rounded-lg font-bold text-lg border border-gray-200 flex items-center">
                            Explore AI Tools
                            <i data-lucide="sparkles" class="ml-2"></i>
                        </a>
                    </div>
                </div>
            </section>
             <section id="how-it-works" class="py-20 bg-white">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-gray-900">Get Started in 3 Simple Steps</h2>
                        <p class="mt-4 text-lg text-gray-600">From idea to execution in minutes, not months.</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                        <div class="p-6"><div class="flex items-center justify-center h-24 w-24 mx-auto bg-blue-100 text-[#1e3a8a] rounded-full text-4xl font-bold">1</div><h3 class="text-xl font-bold mt-6 mb-2">Describe Your Vision</h3><p class="text-gray-600">Tell our AI about your business idea or existing company. The more detail, the better the insights.</p></div>
                        <div class="p-6"><div class="flex items-center justify-center h-24 w-24 mx-auto bg-blue-100 text-[#1e3a8a] rounded-full text-4xl font-bold">2</div><h3 class="text-xl font-bold mt-6 mb-2">Get Instant Analysis</h3><p class="text-gray-600">Our AI analyzes your idea against real-time market data, trends, and competitor landscapes.</p></div>
                        <div class="p-6"><div class="flex items-center justify-center h-24 w-24 mx-auto bg-blue-100 text-[#1e3a8a] rounded-full text-4xl font-bold">3</div><h3 class="text-xl font-bold mt-6 mb-2">Execute Your Plan</h3><p class="text-gray-600">Receive a step-by-step business plan and use our AI tools to create marketing materials, strategies, and more.</p></div>
                    </div>
                </div>
            </section>
            <section id="features" class="py-20 bg-gray-50">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-gray-900">An Entire Team of AI Experts</h2>
                        <p class="mt-4 text-lg text-gray-600">Replace expensive tools and consultants with a single, intelligent platform.</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <div class="feature-card bg-white p-8 rounded-xl border border-gray-100"><div class="bg-blue-100 text-[#1e3a8a] rounded-full w-12 h-12 flex items-center justify-center"><i data-lucide="search"></i></div><h3 class="text-xl font-bold mt-6 mb-2">Market Research AI</h3><p class="text-gray-600">Uncover market size, trends, and customer demographics. Analyze competitors and find your unique selling proposition.</p></div>
                        <div class="feature-card bg-white p-8 rounded-xl border border-gray-100"><div class="bg-blue-100 text-[#1e3a8a] rounded-full w-12 h-12 flex items-center justify-center"><i data-lucide="lightbulb"></i></div><h3 class="text-xl font-bold mt-6 mb-2">Startup Advisor</h3><p class="text-gray-600">Validate your ideas, build comprehensive business plans, and generate investor-ready pitch decks in minutes.</p></div>
                        <div class="feature-card bg-white p-8 rounded-xl border border-gray-100"><div class="bg-blue-100 text-[#1e3a8a] rounded-full w-12 h-12 flex items-center justify-center"><i data-lucide="megaphone"></i></div><h3 class="text-xl font-bold mt-6 mb-2">Marketing Assistant</h3><p class="text-gray-600">Generate ad copy, social media campaigns, email newsletters, and blog posts tailored to your target audience.</p></div>
                        <div class="feature-card bg-white p-8 rounded-xl border border-gray-100"><div class="bg-blue-100 text-[#1e3a8a] rounded-full w-12 h-12 flex items-center justify-center"><i data-lucide="users"></i></div><h3 class="text-xl font-bold mt-6 mb-2">Networking Hub</h3><p class="text-gray-600">Create your profile and connect with a community of like-minded founders, mentors, and potential partners.</p></div>
                        <div class="feature-card bg-white p-8 rounded-xl border border-gray-100"><div class="bg-blue-100 text-[#1e3a8a] rounded-full w-12 h-12 flex items-center justify-center"><i data-lucide="volume-2"></i></div><h3 class="text-xl font-bold mt-6 mb-2">AI Promotion Generator</h3><p class="text-gray-600">Describe your business and let our AI generate a compelling advertisement to attract new customers.</p></div>
                        <div class="feature-card bg-white p-8 rounded-xl border border-gray-100"><div class="bg-blue-100 text-[#1e3a8a] rounded-full w-12 h-12 flex items-center justify-center"><i data-lucide="scale"></i></div><h3 class="text-xl font-bold mt-6 mb-2">Finance & Legal Helper</h3><p class="text-gray-600">Get basic financial projections, understand key metrics, and find information on legal requirements for your country.</p></div>
                    </div>
                </div>
            </section>
            <section id="testimonials" class="py-20 bg-white">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12"><h2 class="text-3xl md:text-4xl font-bold text-gray-900">Trusted by Founders and Owners</h2></div>
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
                        <div class="testimonial-card bg-gray-50 p-8 rounded-xl"><p class="text-gray-600 italic">“BizMind AI helped me go from idea to investor-ready in 2 weeks. The business plan generator is pure magic.”</p><div class="flex items-center mt-6"><img src="https://placehold.co/48x48/E2E8F0/4A5568?text=L" alt="Luka, Founder" class="w-12 h-12 rounded-full"><div class="ml-4"><p class="font-bold">Luka, Founder</p><p class="text-sm text-gray-500">SaaS Startup</p></div></div></div>
                        <div class="testimonial-card bg-gray-50 p-8 rounded-xl"><p class="text-gray-600 italic">“I replaced my business consultant with this AI – and it’s better. It's saved me thousands and provides instant, data-driven advice.”</p><div class="flex items-center mt-6"><img src="https://placehold.co/48x48/E2E8F0/4A5568?text=A" alt="Ana, Ecom Owner" class="w-12 h-12 rounded-full"><div class="ml-4"><p class="font-bold">Ana, Ecom Owner</p><p class="text-sm text-gray-500">Shopify Store</p></div></div></div>
                        <div class="testimonial-card bg-gray-50 p-8 rounded-xl"><p class="text-gray-600 italic">“The market analysis feature is a game-changer. It identified a niche competitor I had no idea about, allowing me to pivot my strategy early.”</p><div class="flex items-center mt-6"><img src="https://placehold.co/48x48/E2E8F0/4A5568?text=M" alt="Mike, Entrepreneur" class="w-12 h-12 rounded-full"><div class="ml-4"><p class="font-bold">Mike, Entrepreneur</p><p class="text-sm text-gray-500">Mobile App</p></div></div></div>
                    </div>
                </div>
            </section>
            <section class="py-20 bg-[#1e3a8a] text-white">
                <div class="container mx-auto px-6 text-center">
                    <h2 class="text-3xl md:text-4xl font-bold">Ready to Build Your Future?</h2>
                    <p class="mt-4 text-lg text-blue-200 max-w-2xl mx-auto">Join thousands of entrepreneurs growing smarter with BizMind AI. No credit card required to start.</p>
                    <div class="mt-8"><a href="#premium" onclick="handleNav(event, 'premium')" class="cta-button bg-white text-[#1e3a8a] px-10 py-4 rounded-lg font-bold text-lg">Try BizMind AI Free</a></div>
                </div>
            </section>
        </div>

        <!-- Networking Page -->
        <div id="page-networking" class="page">
            <section class="pt-32 pb-20 bg-white min-h-screen">
                <div class="container mx-auto px-6">
                    <div id="profile-form-section">
                        <div class="max-w-2xl mx-auto">
                            <div class="text-center mb-12">
                                <h1 class="text-4xl md:text-5xl font-bold text-gray-900">Connect with Others</h1>
                                <p class="mt-4 text-lg text-gray-600">Create your profile and find co-founders, partners, or mentors with similar interests.</p>
                            </div>
                            <form id="profile-form" class="bg-gray-50 border border-gray-200 rounded-xl p-8 shadow-lg space-y-6">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label for="profile-first-name" class="block text-lg font-semibold mb-2 text-gray-800">First Name</label>
                                        <input type="text" id="profile-first-name" required class="w-full border-gray-300 rounded-lg p-3 focus:ring-[#1e3a8a] focus:border-[#1e3a8a]">
                                    </div>
                                    <div>
                                        <label for="profile-last-name" class="block text-lg font-semibold mb-2 text-gray-800">Last Name</label>
                                        <input type="text" id="profile-last-name" required class="w-full border-gray-300 rounded-lg p-3 focus:ring-[#1e3a8a] focus:border-[#1e3a8a]">
                                    </div>
                                </div>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label for="profile-age" class="block text-lg font-semibold mb-2 text-gray-800">Age</label>
                                        <input type="number" id="profile-age" required class="w-full border-gray-300 rounded-lg p-3 focus:ring-[#1e3a8a] focus:border-[#1e3a8a]">
                                    </div>
                                    <div>
                                        <label for="profile-location" class="block text-lg font-semibold mb-2 text-gray-800">Your Location</label>
                                        <input type="text" id="profile-location" required class="w-full border-gray-300 rounded-lg p-3 focus:ring-[#1e3a8a] focus:border-[#1e3a8a]" placeholder="e.g., Ljubljana, Slovenia">
                                    </div>
                                </div>
                                <div>
                                    <label for="profile-bio" class="block text-lg font-semibold mb-2 text-gray-800">Short Bio (interests, experience, etc.)</label>
                                    <textarea id="profile-bio" rows="5" class="w-full border-gray-300 rounded-lg p-3 focus:ring-[#1e3a8a] focus:border-[#1e3a8a]" placeholder="Describe your business interests, what you're looking for, and your experience..."></textarea>
                                    <p id="bio-error" class="text-red-500 text-sm mt-1 hidden">Bio must be at least 50 characters long.</p>
                                </div>
                                <button type="submit" class="w-full bg-[#1e3a8a] text-white py-4 rounded-lg font-bold text-lg cta-button flex items-center justify-center">
                                    <i data-lucide="user-plus" class="mr-2"></i>
                                    Create Profile & Connect
                                </button>
                            </form>
                        </div>
                    </div>
                    <div id="profile-list-section" class="hidden">
                        <div class="text-center mb-12">
                            <h1 class="text-4xl md:text-5xl font-bold text-gray-900">Entrepreneur Network</h1>
                            <p class="mt-4 text-lg text-gray-600">Here are other users with ambitious ideas. Connect with them!</p>
                        </div>
                        <div id="profile-list-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                            <!-- User profiles will be injected here -->
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- AI Planner Page -->
        <div id="page-planner" class="page">
            <section class="pt-32 pb-20 bg-white min-h-screen">
                <div class="container mx-auto px-6">
                    <div class="max-w-4xl mx-auto">
                        <div class="text-center mb-12">
                            <h1 class="text-4xl md:text-5xl font-bold text-gray-900">AI Business Tools</h1>
                            <p class="mt-4 text-lg text-gray-600">From a creative name to a full business plan, let our AI do the heavy lifting.</p>
                        </div>

                        <!-- AI Product Idea Generator -->
                        <div class="bg-gray-50 border border-gray-200 rounded-xl p-8 shadow-lg">
                            <h2 class="text-2xl font-bold text-gray-800 mb-4">1. AI Product Idea Generator</h2>
                            <div class="mb-4">
                                <label for="idea-description" class="block text-lg font-semibold mb-2 text-gray-800">Interests, skills, or target market:</label>
                                <textarea id="idea-description" rows="4" class="w-full border-gray-300 rounded-lg p-3 focus:ring-[#1e3a8a] focus:border-[#1e3a8a]" placeholder="e.g., 'sustainable fashion for young professionals', 'mobile apps for fitness', 'gourmet food products'"></textarea>
                            </div>
                            <button id="generate-idea-button" class="w-full bg-[#1e3a8a] text-white py-4 rounded-lg font-bold text-lg cta-button flex items-center justify-center">
                                <i data-lucide="lightbulb" class="mr-2"></i>
                                Generate Ideas (Free)
                            </button>
                        </div>
                        <div id="idea-loader" class="text-center py-12 hidden">
                            <div class="loader mx-auto"></div>
                            <p class="mt-4 text-lg text-gray-600 font-semibold">Our AI is searching for new opportunities...</p>
                        </div>
                        <div id="idea-output" class="mt-8 grid grid-cols-1 gap-4"></div>

                        <!-- Business Name Generator -->
                        <div class="mt-16 bg-gray-50 border border-gray-200 rounded-xl p-8 shadow-lg">
                            <h2 class="text-2xl font-bold text-gray-800 mb-4">2. Business Name Generator</h2>
                            <div class="mb-4">
                                <label for="name-description" class="block text-lg font-semibold mb-2 text-gray-800">Describe your business to get name ideas:</label>
                                <textarea id="name-description" rows="4" class="w-full border-gray-300 rounded-lg p-3 focus:ring-[#1e3a8a] focus:border-[#1e3a8a]" placeholder="e.g., 'An eco-friendly subscription box for dog toys'"></textarea>
                            </div>
                            <button id="generate-name-button" class="w-full bg-[#1e3a8a] text-white py-4 rounded-lg font-bold text-lg cta-button flex items-center justify-center">
                                <i data-lucide="lightbulb" class="mr-2"></i>
                                Generate Names (Free)
                            </button>
                        </div>
                        <div id="name-loader" class="text-center py-12 hidden"></div>
                        <div id="name-output" class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-4"></div>
                        
                        <!-- Business Plan Generator -->
                        <div class="mt-16 bg-gray-50 border border-gray-200 rounded-xl p-8 shadow-lg">
                            <h2 class="text-2xl font-bold text-gray-800 mb-4">3. Business Plan Generator</h2>
                            <div class="mb-4">
                                <label for="business-description" class="block text-lg font-semibold mb-2 text-gray-800">Describe your business idea in detail:</label>
                                <textarea id="business-description" rows="6" class="w-full border-gray-300 rounded-lg p-3 focus:ring-[#1e3a8a] focus:border-[#1e3a8a]" placeholder="e.g., 'My business, named Pawsitive Planet, will be an eco-friendly subscription box for dog toys...'"></textarea>
                            </div>
                            <button id="generate-plan-button" class="w-full bg-[#1e3a8a] text-white py-4 rounded-lg font-bold text-lg cta-button flex items-center justify-center">
                                <i data-lucide="wand-2" class="mr-2"></i>
                                Generate My Plan ($1.99 Payable)
                            </button>
                        </div>
                        <div id="plan-loader" class="text-center py-12 hidden"></div>
                        <div id="plan-output" class="mt-12 space-y-8"></div>
                        
                        <!-- AI Logo Idea Generator -->
                        <div class="mt-16 bg-gray-50 border border-gray-200 rounded-xl p-8 shadow-lg">
                            <h2 class="text-2xl font-bold text-gray-800 mb-4">4. AI Logo Idea Generator</h2>
                            <div class="mb-4">
                                <label for="logo-description" class="block text-lg font-semibold mb-2 text-gray-800">Describe your brand for logo ideas:</label>
                                <textarea id="logo-description" rows="4" class="w-full border-gray-300 rounded-lg p-3 focus:ring-[#1e3a8a] focus:border-[#1e3a8a]" placeholder="e.g., 'My brand is called "Pawsitive Planet".'"></textarea>
                            </div>
                            <button id="generate-logo-button" class="w-full bg-[#1e3a8a] text-white py-4 rounded-lg font-bold text-lg cta-button flex items-center justify-center">
                                <i data-lucide="image" class="mr-2"></i>
                                Generate Logo Ideas (Free)
                            </button>
                        </div>
                        <div id="logo-loader" class="text-center py-12 hidden"></div>
                        <div id="logo-output" class="mt-12 grid grid-cols-1 md:grid-cols-2 gap-6"></div>
                        
                        <!-- AI Marketing Copy Generator -->
                        <div class="mt-16 bg-gray-50 border border-gray-200 rounded-xl p-8 shadow-lg">
                            <h2 class="text-2xl font-bold text-gray-800 mb-4">5. AI Marketing Copy Generator</h2>
                            <div class="mb-4">
                                <label for="copy-description" class="block text-lg font-semibold mb-2 text-gray-800">Product/Service Description:</label>
                                <textarea id="copy-description" rows="4" class="w-full border-gray-300 rounded-lg p-3 focus:ring-[#1e3a8a] focus:border-[#1e3a8a]" placeholder="e.g., 'Handmade leather wallets for men who appreciate quality.'"></textarea>
                            </div>
                            <button id="generate-copy-button" class="w-full bg-[#1e3a8a] text-white py-4 rounded-lg font-bold text-lg cta-button flex items-center justify-center">
                                <i data-lucide="pen-square" class="mr-2"></i>
                                Generate Marketing Copy (Free)
                            </button>
                        </div>
                        <div id="copy-loader" class="text-center py-12 hidden"></div>
                        <div id="copy-output" class="mt-8 bg-white p-6 rounded-xl border whitespace-pre-wrap"></div>

                        <!-- AI Invoice & Contract Generator -->
                        <div class="mt-16 bg-gray-50 border border-gray-200 rounded-xl p-8 shadow-lg">
                            <h2 class="text-2xl font-bold text-gray-800 mb-4">6. AI Invoice & Contract Generator</h2>
                            <div class="mb-4">
                                <label for="document-description" class="block text-lg font-semibold mb-2 text-gray-800">Describe the document you need:</label>
                                <textarea id="document-description" rows="4" class="w-full border-gray-300 rounded-lg p-3 focus:ring-[#1e3a8a] focus:border-[#1e3a8a]" placeholder="e.g., 'A simple contract for freelance graphic design services for client John Doe, project scope is a new logo, price is 500 EUR.' or 'An invoice for web development services to Acme Corp for 1500 USD.'"></textarea>
                            </div>
                            <button id="generate-document-button" class="w-full bg-[#1e3a8a] text-white py-4 rounded-lg font-bold text-lg cta-button flex items-center justify-center">
                                <i data-lucide="file-text" class="mr-2"></i>
                                Generate Document (Free)
                            </button>
                            <p class="text-xs text-gray-500 mt-4 text-center">Disclaimer: This is not a legal service. Generated documents are templates and should be reviewed by a legal professional.</p>
                        </div>
                        <div id="document-loader" class="text-center py-12 hidden"></div>
                        <div id="document-output" class="mt-8 bg-white p-6 rounded-xl border whitespace-pre-wrap"></div>
                        
                        <!-- AI Supplier Finder -->
                        <div class="mt-16 bg-gray-50 border border-gray-200 rounded-xl p-8 shadow-lg">
                            <h2 class="text-2xl font-bold text-gray-800 mb-4">7. AI Supplier Finder</h2>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label for="supplier-business-type" class="block text-lg font-semibold mb-2 text-gray-800">Your Business Type:</label>
                                    <input type="text" id="supplier-business-type" class="w-full border-gray-300 rounded-lg p-3 focus:ring-[#1e3a8a] focus:border-[#1e3a8a]" placeholder="e.g., Coffee Shop">
                                </div>
                                <div>
                                    <label for="supplier-location" class="block text-lg font-semibold mb-2 text-gray-800">Your Location:</label>
                                    <input type="text" id="supplier-location" class="w-full border-gray-300 rounded-lg p-3 focus:ring-[#1e3a8a] focus:border-[#1e3a8a]" placeholder="e.g., Ljubljana, Slovenia">
                                </div>
                            </div>
                            <button id="generate-supplier-button" class="w-full bg-[#1e3a8a] text-white py-4 rounded-lg font-bold text-lg cta-button flex items-center justify-center">
                                <i data-lucide="search" class="mr-2"></i>
                                Find Suppliers (Free)
                            </button>
                        </div>
                        <div id="supplier-loader" class="text-center py-12 hidden"></div>
                        <div id="supplier-output" class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-4"></div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Promotion Page -->
        <div id="page-promotion" class="page">
            <section class="pt-32 pb-20 bg-white min-h-screen">
                <div class="container mx-auto px-6">
                    <div class="max-w-3xl mx-auto">
                        <div class="text-center mb-12">
                            <h1 class="text-4xl md:text-5xl font-bold text-gray-900">AI Promotion Generator</h1>
                            <p class="mt-4 text-lg text-gray-600">Promote your business or brand. Our AI will create a compelling ad for you.</p>
                        </div>

                        <div class="bg-gray-50 border border-gray-200 rounded-xl p-8 shadow-lg">
                            <div class="space-y-4">
                                <div>
                                    <label for="promo-name" class="block text-lg font-semibold mb-2 text-gray-800">Company / Brand Name:</label>
                                    <input type="text" id="promo-name" class="w-full border-gray-300 rounded-lg p-3 focus:ring-[#1e3a8a] focus:border-[#1e3a8a]" placeholder="e.g., Kava Klub">
                                </div>
                                <div>
                                    <label for="promo-description" class="block text-lg font-semibold mb-2 text-gray-800">Short Description:</label>
                                    <textarea id="promo-description" rows="4" class="w-full border-gray-300 rounded-lg p-3 focus:ring-[#1e3a8a] focus:border-[#1e3a8a]" placeholder="e.g., A cozy coffee shop in the heart of Ljubljana, specializing in artisanal coffee and homemade pastries."></textarea>
                                </div>
                            </div>
                            <button id="generate-promo-button" class="mt-6 w-full bg-[#1e3a8a] text-white py-4 rounded-lg font-bold text-lg cta-button flex items-center justify-center">
                                <i data-lucide="volume-2" class="mr-2"></i>
                                Generate Promotion
                            </button>
                            <p class="text-sm text-gray-500 mt-4 text-center">Free users can generate one promotion per day. <a href="#premium" onclick="handleNav(event, 'premium')" class="text-blue-600 hover:underline">Upgrade to Pro for unlimited promotions.</a></p>
                        </div>

                        <div id="promo-loader" class="text-center py-12 hidden">
                             <div class="loader mx-auto"></div>
                            <p class="mt-4 text-lg text-gray-600 font-semibold">Our AI is crafting your promotion...</p>
                        </div>
                        
                        <div id="promo-output" class="mt-12 hidden">
                             <h2 class="text-2xl font-bold text-center mb-4">Your Generated Ad Preview</h2>
                             <div class="bg-white p-6 rounded-xl border shadow-md">
                                <h3 id="promo-headline" class="text-2xl font-bold text-[#1e3a8a]"></h3>
                                <p id="promo-body" class="mt-2 text-gray-700"></p>
                                <p id="promo-cta" class="mt-4 font-semibold text-gray-800"></p>
                             </div>
                        </div>

                    </div>
                </div>
            </section>
        </div>

        <!-- Chat Bot Page -->
        <div id="page-chat" class="page">
            <section class="pt-32 pb-20 bg-white min-h-screen">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h1 class="text-4xl md:text-5xl font-bold text-gray-900">BizMind AI Chat</h1>
                        <p class="mt-4 text-lg text-gray-600">Your personal business consultant. Ask me anything.</p>
                    </div>
                    <div class="max-w-3xl mx-auto bg-gray-50 border border-gray-200 rounded-xl shadow-lg flex flex-col" style="height: 65vh;">
                        <div id="chat-window" class="flex-1 p-6 space-y-4 overflow-y-auto">
                            <div class="flex items-start gap-3"><div class="bg-blue-100 text-[#1e3a8a] rounded-full w-10 h-10 flex items-center justify-center flex-shrink-0"><i data-lucide="bot"></i></div><div class="bg-white border border-gray-200 rounded-lg p-3 text-gray-700"><p>Hello! I'm BizMind AI. How can I help you strategize, research, or grow your business today?</p></div></div>
                        </div>
                        <div class="p-4 bg-white border-t border-gray-200">
                            <div id="chat-suggestions" class="flex flex-wrap gap-2 mb-3">
                                <button class="chat-prompt-btn">Analyze my competition</button>
                                <button class="chat-prompt-btn">Draft a marketing email</button>
                                <button class="chat-prompt-btn">Suggest 5 blog post ideas</button>
                            </div>
                            <div class="flex items-center space-x-3">
                                <input type="text" id="chat-input" placeholder="Ask about market trends, marketing strategies, etc..." class="flex-1 w-full border-gray-300 rounded-lg focus:ring-[#1e3a8a] focus:border-[#1e3a8a]">
                                <button id="send-chat-button" class="bg-[#1e3a8a] text-white p-3 rounded-lg hover:bg-blue-800 transition-colors"><i data-lucide="send"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        
        <!-- Premium Page -->
        <div id="page-premium" class="page">
            <section class="py-32 bg-white">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h1 class="text-4xl md:text-5xl font-bold text-gray-900">Simple, Transparent Pricing</h1>
                        <p class="mt-4 text-lg text-gray-600">Choose the plan that's right for your stage of growth. Cancel anytime.</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                        <div class="pricing-card border border-gray-200 rounded-xl p-8 flex flex-col"><h3 class="text-xl font-bold text-gray-900">Freemium</h3><p class="text-gray-500 mt-2">For getting started</p><p class="text-4xl font-bold mt-6">€0 <span class="text-lg font-normal text-gray-500">/ month</span></p><ul class="space-y-4 mt-8 text-gray-600 flex-grow"><li class="flex items-center"><i data-lucide="check" class="w-5 h-5 text-green-500 mr-2"></i>Basic AI tools</li><li class="flex items-center"><i data-lucide="check" class="w-5 h-5 text-green-500 mr-2"></i>10 queries per day</li><li class="flex items-center"><i data-lucide="check" class="w-5 h-5 text-green-500 mr-2"></i>Limited data sources</li><li class="flex items-center"><i data-lucide="check" class="w-5 h-5 text-green-500 mr-2"></i>Community support</li></ul><a href="#" class="mt-8 block w-full text-center bg-gray-100 text-gray-800 font-semibold py-3 rounded-lg hover:bg-gray-200 transition-colors">Start for Free</a></div>
                        <div class="pricing-card border-2 border-[#1e3a8a] rounded-xl p-8 flex flex-col relative"><span class="absolute top-0 -translate-y-1/2 bg-[#1e3a8a] text-white text-xs font-bold px-3 py-1 rounded-full">POPULAR</span><h3 class="text-xl font-bold text-[#1e3a8a]">Pro Plan</h3><p class="text-gray-500 mt-2">For serious builders</p><p class="text-4xl font-bold mt-6">€29 <span class="text-lg font-normal text-gray-500">/ month</span></p><ul class="space-y-4 mt-8 text-gray-600 flex-grow"><li class="flex items-center"><i data-lucide="check" class="w-5 h-5 text-green-500 mr-2"></i>Full access to all AI tools</li><li class="flex items-center"><i data-lucide="check" class="w-5 h-5 text-green-500 mr-2"></i>Unlimited queries</li><li class="flex items-center"><i data-lucide="check" class="w-5 h-5 text-green-500 mr-2"></i>Live internet access</li><li class="flex items-center"><i data-lucide="check" class="w-5 h-5 text-green-500 mr-2"></i>All integrations</li><li class="flex items-center"><i data-lucide="check" class="w-5 h-5 text-green-500 mr-2"></i>Priority email support</li></ul><a href="#" class="mt-8 block w-full text-center bg-[#1e3a8a] text-white font-semibold py-3 rounded-lg hover:bg-blue-800 transition-colors">Choose Pro</a></div>
                        <div class="pricing-card border border-gray-200 rounded-xl p-8 flex flex-col"><h3 class="text-xl font-bold text-gray-900">Business Plan</h3><p class="text-gray-500 mt-2">For teams & agencies</p><p class="text-4xl font-bold mt-6">€79 <span class="text-lg font-normal text-gray-500">/ month</span></p><ul class="space-y-4 mt-8 text-gray-600 flex-grow"><li class="flex items-center"><i data-lucide="check" class="w-5 h-5 text-green-500 mr-2"></i>Everything in Pro</li><li class="flex items-center"><i data-lucide="check" class="w-5 h-5 text-green-500 mr-2"></i>Monitoring Dashboard</li><li class="flex items-center"><i data-lucide="check" class="w-5 h-5 text-green-500 mr-2"></i>Team collaboration (3 seats)</li><li class="flex items-center"><i data-lucide="check" class="w-5 h-5 text-green-500 mr-2"></i>Dedicated account manager</li><li class="flex items-center"><i data-lucide="check" class="w-5 h-5 text-green-500 mr-2"></i>24/7 priority support</li></ul><a href="#" class="mt-8 block w-full text-center bg-gray-100 text-gray-800 font-semibold py-3 rounded-lg hover:bg-gray-200 transition-colors">Contact Sales</a></div>
                    </div>
                </div>
            </section>
        </div>

        <!-- About Page -->
        <div id="page-about" class="page">
            <section class="pt-32 pb-20 bg-white">
                <div class="container mx-auto px-6">
                    <div class="max-w-4xl mx-auto">
                        <h1 class="text-4xl md:text-5xl font-bold text-center text-gray-900">About BizMind AI</h1>
                        <p class="mt-6 text-lg text-center text-gray-600">We're on a mission to democratize business intelligence and empower every entrepreneur with the tools to succeed.</p>
                        <div class="mt-12 grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                            <div class="bg-gray-50 border border-gray-200 rounded-xl p-8"><h2 class="text-2xl font-bold text-[#1e3a8a] flex items-center"><i data-lucide="rocket" class="mr-3"></i>Our Mission</h2><p class="mt-4 text-gray-700">In today's fast-paced market, access to timely data, strategic insights, and operational efficiency tools is the key differentiator. Historically, these resources were reserved for large corporations. BizMind AI was created to level the playing field. We believe that every founder, startup, and small business owner deserves a dedicated partner to help navigate the complexities of building and scaling a business.</p></div>
                            <div class="bg-gray-50 border border-gray-200 rounded-xl p-8"><h2 class="text-2xl font-bold text-[#1e3a8a] flex items-center"><i data-lucide="eye" class="mr-3"></i>Our Vision</h2><p class="mt-4 text-gray-700">Our vision is a world where anyone with a great idea has access to the strategic intelligence needed to turn it into a thriving business. We aim to be the indispensable operating system for entrepreneurship, powering the next generation of innovators and market leaders through accessible, powerful, and intuitive AI.</p></div>
                        </div>
                        <div class="mt-20">
                            <h2 class="text-3xl md:text-4xl font-bold text-center text-gray-900">Meet the Team</h2>
                            <p class="mt-4 text-lg text-center text-gray-600">The minds behind the mission.</p>
                            <div class="mt-12 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-10">
                                <div class="text-center"><img class="w-32 h-32 mx-auto rounded-full shadow-lg" src="https://placehold.co/128x128/1e3a8a/ffffff?text=MS" alt="Maj S."><h3 class="mt-4 text-xl font-bold">Maj S.</h3><p class="text-[#1e3a8a] font-semibold">Lead AI Strategist</p><p class="mt-2 text-gray-600 text-sm">Maj is the visionary who bridges the gap between complex AI capabilities and real-world business needs. With a background in both software engineering and entrepreneurship, he is passionate about creating tools that are not just technologically advanced, but genuinely useful for founders and business owners.</p></div>
                                <div class="text-center"><img class="w-32 h-32 mx-auto rounded-full shadow-lg" src="https://placehold.co/128x128/E2E8F0/4A5568?text=AC" alt="Alex Chen"><h3 class="mt-4 text-xl font-bold">Alex Chen</h3><p class="text-[#1e3a8a] font-semibold">Co-Founder & CEO</p><p class="mt-2 text-gray-600 text-sm">Alex is a serial entrepreneur who has experienced the challenges of building a business firsthand. His drive is to simplify the entrepreneurial journey for others, making BizMind AI the co-pilot he wishes he had.</p></div>
                                <div class="text-center"><img class="w-32 h-32 mx-auto rounded-full shadow-lg" src="https://placehold.co/128x128/E2E8F0/4A5568?text=BK" alt="Benida Kumar"><h3 class="mt-4 text-xl font-bold">Benida Kumar</h3><p class="text-[#1e3a8a] font-semibold">Co-Founder & CTO</p><p class="mt-2 text-gray-600 text-sm">Benida leads the technical development of our platform. With a Ph.D. in machine learning, she ensures our AI models are powerful, reliable, and always on the cutting edge of technology.</p></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer class="bg-gray-900 text-white">
        <div class="container mx-auto px-6 py-12">
            <div class="sm:flex sm:items-center sm:justify-between">
                <span class="text-sm text-gray-400 sm:text-center">© 2024 <a href="#" class="hover:underline">BizMind AI™</a>. All Rights Reserved.</span>
                <div class="flex mt-4 space-x-6 sm:justify-center sm:mt-0">
                    <a href="#" class="text-gray-400 hover:text-white"><i data-lucide="linkedin" class="w-5 h-5"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white"><i data-lucide="twitter" class="w-5 h-5"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white"><i data-lucide="youtube" class="w-5 h-5"></i></a>
                </div>
            </div>
        </div>
    </footer>
    <button id="open-support-chat" class="fixed bottom-6 right-6 bg-[#1e3a8a] text-white w-16 h-16 rounded-full shadow-lg flex items-center justify-center cta-button z-40">
        <i data-lucide="message-square" class="w-8 h-8"></i>
    </button>
    <div id="live-support-modal" class="fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center z-50 hidden opacity-0">
        <div class="bg-white rounded-lg shadow-2xl w-full max-w-2xl h-full max-h-[90vh] flex flex-col">
            <div class="flex justify-between items-center p-4 border-b">
                <h2 class="text-xl font-bold flex items-center"><i data-lucide="users" class="mr-2 text-[#1e3a8a]"></i>Live Support</h2>
                <button id="close-support-chat" class="text-gray-500 hover:text-gray-800">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>
            </div>
            <div id="support-chat-window" class="flex-1 p-6 space-y-4 overflow-y-auto">
                <div class="flex items-start gap-3">
                    <div class="bg-green-100 text-green-800 rounded-full w-10 h-10 flex items-center justify-center flex-shrink-0"><i data-lucide="user-check"></i></div>
                    <div class="bg-gray-100 border border-gray-200 rounded-lg p-3 text-gray-700">
                        <p class="font-bold text-green-800">Admin</p>
                        <p>Welcome to BizMind AI support! How can we help you today?</p>
                    </div>
                </div>
            </div>
            <div class="p-4 bg-gray-50 border-t">
                <div class="flex items-center space-x-3">
                    <input type="text" id="support-chat-input" placeholder="Type your message..." class="flex-1 w-full border-gray-300 rounded-lg focus:ring-[#1e3a8a] focus:border-[#1e3a8a]">
                    <button id="send-support-chat-button" class="bg-[#1e3a8a] text-white px-5 py-2.5 rounded-lg hover:bg-blue-800 transition-colors font-semibold">Send</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Promo Code Modal -->
    <div id="promo-modal" class="modal-backdrop fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center z-50 hidden opacity-0">
        <div class="bg-white rounded-lg shadow-2xl w-full max-w-md p-6 text-center">
            <i data-lucide="gift" class="w-16 h-16 text-blue-500 mx-auto mb-4"></i>
            <h3 class="text-2xl font-bold text-gray-900">Free Promo</h3>
            <p class="text-lg text-gray-600 mt-2">Enter your password to generate the plan for free.</p>
            <div class="mt-4">
                <input type="password" id="promo-password-input" class="w-full border-gray-300 rounded-lg p-3 text-center" placeholder="Enter password">
                <p id="promo-error" class="text-red-500 text-sm mt-1 hidden">Incorrect password. Please try again.</p>
            </div>
            <div class="mt-6 flex flex-col space-y-3">
                <button id="submit-promo-button" class="bg-blue-500 text-white px-8 py-3 rounded-lg font-bold cta-button hover:bg-blue-600">Apply Promo</button>
                <button id="no-promo-button" class="text-gray-500 text-sm hover:underline">No Promo Code?</button>
            </div>
        </div>
    </div>


    <script>
        lucide.createIcons();

        // --- Centralized Gemini API Fetch Function ---
        async function callGemini(prompt, isJson = false) {
            const chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
            let payload = { contents: chatHistory };
            if (isJson) {
                payload.generationConfig = { responseMimeType: "application/json", responseSchema: isJson.responseSchema };
            }
            
            const apiKey = "AIzaSyBqVM8Bfl9XPa-L4Kf6lFOegWuUcTIo6C0"; // Handled by environment
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

            const response = await fetch(apiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });

            if (!response.ok) {
                throw new Error(`API request failed with status ${response.status}`);
            }
            const result = await response.json();

            if (result.candidates && result.candidates[0]?.content?.parts[0]?.text) {
                const textResponse = result.candidates[0].content.parts[0].text;
                return isJson ? JSON.parse(textResponse) : textResponse;
            } else {
                console.log("Unexpected API response:", result);
                throw new Error("Invalid response structure from API.");
            }
        }

        // --- Page Navigation ---
        const pages = document.querySelectorAll('.page');
        const mobileMenu = document.getElementById('mobile-menu');
        const hamburgerButton = document.getElementById('hamburger-button');
        const closeMenuButton = document.getElementById('close-menu-button');

        function showPage(pageId) {
            pages.forEach(page => page.classList.remove('active'));
            const newPage = document.getElementById(`page-${pageId}`);
            if (newPage) newPage.classList.add('active');
            window.scrollTo(0, 0); 
            if (pageId === 'networking') {
                initializeNetworkingPage();
            }
        }
        
        function handleNav(event, pageId, fromMobile = false) {
            event.preventDefault();
            showPage(pageId);
            if (fromMobile) mobileMenu.classList.add('-translate-x-full');
            history.pushState(null, null, `#${pageId}`);
        }

        // --- Typing Indicator ---
        function showTypingIndicator(chatWindowElement, sender) {
            const typingEl = document.createElement('div');
            typingEl.id = 'typing-indicator';
            typingEl.className = 'flex items-start gap-3';
            let iconHtml = `<div class="bg-blue-100 text-[#1e3a8a] rounded-full w-10 h-10 flex items-center justify-center flex-shrink-0"><i data-lucide="bot"></i></div>`;
            if (sender === 'admin') {
                iconHtml = `<div class="bg-green-100 text-green-800 rounded-full w-10 h-10 flex items-center justify-center flex-shrink-0"><i data-lucide="user-check"></i></div>`;
            }
            typingEl.innerHTML = `${iconHtml}<div class="bg-white border border-gray-200 rounded-lg p-3 text-gray-700"><div class="typing-indicator"><span></span><span></span><span></span></div></div>`;
            chatWindowElement.appendChild(typingEl);
            lucide.createIcons();
            chatWindowElement.scrollTop = chatWindowElement.scrollHeight;
        }

        function removeTypingIndicator(chatWindowElement) {
            const indicator = chatWindowElement.querySelector('#typing-indicator');
            if (indicator) indicator.remove();
        }

        // --- Main Chatbot Functionality ---
        function initializeChatPageListeners() {
            const chatInput = document.getElementById('chat-input');
            const sendChatButton = document.getElementById('send-chat-button');
            const chatWindow = document.getElementById('chat-window');
            const chatPromptButtons = document.querySelectorAll('.chat-prompt-btn');

            function addChatMessage(message, sender) {
                if (!chatWindow) return;
                const messageElement = document.createElement('div');
                if (sender === 'user') {
                    messageElement.innerHTML = `<div class="flex items-start gap-3 justify-end"><div class="bg-blue-500 text-white rounded-lg p-3 max-w-xs break-words"><p>${message}</p></div></div>`;
                } else { // AI
                     messageElement.innerHTML = `<div class="flex items-start gap-3"><div class="bg-blue-100 text-[#1e3a8a] rounded-full w-10 h-10 flex items-center justify-center flex-shrink-0"><i data-lucide="bot"></i></div><div class="bg-white border border-gray-200 rounded-lg p-3 text-gray-700 max-w-xs break-words"><p>${message}</p></div></div>`;
                }
                chatWindow.appendChild(messageElement);
                lucide.createIcons();
                chatWindow.scrollTop = chatWindow.scrollHeight;
            }

            async function handleMainChat() {
                const userInput = chatInput.value.trim();
                if (!userInput) return;
                
                addChatMessage(userInput, 'user');
                chatInput.value = '';
                showTypingIndicator(chatWindow, 'ai');

                const prompt = `You are BizMind AI, a helpful and concise business assistant. A user said: "${userInput}". Respond helpfully.`;
                try {
                    const aiResponse = await callGemini(prompt);
                    removeTypingIndicator(chatWindow);
                    addChatMessage(aiResponse, 'ai');
                } catch (error) {
                    console.error("Chatbot error:", error);
                    removeTypingIndicator(chatWindow);
                    addChatMessage("Sorry, I'm having trouble connecting right now. Please try again later.", 'ai');
                }
            }
            
            if (sendChatButton) {
                sendChatButton.addEventListener('click', handleMainChat);
                chatInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') handleMainChat(); });
            }
            if (chatPromptButtons) {
                chatPromptButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        if(chatInput) {
                            chatInput.value = button.textContent;
                            chatInput.focus();
                        }
                    });
                });
            }
        }

        // --- Live Support Chat Functionality ---
        function initializeSupportListeners() {
            const openSupportButton = document.getElementById('open-support-chat');
            const closeSupportButton = document.getElementById('close-support-chat');
            const supportModal = document.getElementById('live-support-modal');
            const supportChatInput = document.getElementById('support-chat-input');
            const sendSupportChatButton = document.getElementById('send-support-chat-button');
            const supportChatWindow = document.getElementById('support-chat-window');

            function toggleSupportModal(show) {
                if (!supportModal) return;
                if (show) {
                    supportModal.classList.remove('hidden');
                    setTimeout(() => supportModal.classList.remove('opacity-0'), 10);
                } else {
                    supportModal.classList.add('opacity-0');
                    setTimeout(() => supportModal.classList.add('hidden'), 300);
                }
            }
            
            function addSupportChatMessage(message, sender) {
                if(!supportChatWindow) return;
                const messageElement = document.createElement('div');
                if (sender === 'user') {
                    messageElement.innerHTML = `<div class="flex items-start gap-3 justify-end"><div class="bg-blue-500 text-white rounded-lg p-3 max-w-md break-words"><p>${message}</p></div></div>`;
                } else { // Admin/AI
                     messageElement.innerHTML = `<div class="flex items-start gap-3"><div class="bg-green-100 text-green-800 rounded-full w-10 h-10 flex items-center justify-center flex-shrink-0"><i data-lucide="user-check"></i></div><div class="bg-gray-100 border border-gray-200 rounded-lg p-3 text-gray-700 max-w-md break-words"><p class="font-bold text-green-800">Support AI</p><p>${message}</p></div></div>`;
                }
                supportChatWindow.appendChild(messageElement);
                lucide.createIcons();
                supportChatWindow.scrollTop = supportChatWindow.scrollHeight;
            }

            async function handleSupportChat() {
                if(!supportChatInput) return;
                const userInput = supportChatInput.value.trim();
                if (!userInput) return;
                
                addSupportChatMessage(userInput, 'user');
                supportChatInput.value = '';
                showTypingIndicator(supportChatWindow, 'admin');

                const prompt = `You are a friendly and helpful AI support agent for BizMind AI. A user needs help and said: "${userInput}". Provide a helpful first response and mention that a human agent will be connected if needed.`;
                try {
                    const aiResponse = await callGemini(prompt);
                    removeTypingIndicator(supportChatWindow);
                    addSupportChatMessage(aiResponse, 'ai');
                } catch (error) {
                    console.error("Support chat error:", error);
                    removeTypingIndicator(supportChatWindow);
                    addSupportChatMessage("I'm having trouble connecting to our systems. A human agent has been notified and will be with you shortly.", 'ai');
                }
            }
            
            if (openSupportButton) openSupportButton.addEventListener('click', () => toggleSupportModal(true));
            if (closeSupportButton) closeSupportButton.addEventListener('click', () => toggleSupportModal(false));
            if (sendSupportChatButton) {
                sendSupportChatButton.addEventListener('click', handleSupportChat);
                supportChatInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') handleSupportChat(); });
            }
        }

        // --- AI Planner Page Functionality ---
        function initializePlannerPageListeners() {
            const generatePlanButton = document.getElementById('generate-plan-button');
            const businessDescriptionInput = document.getElementById('business-description');
            const planOutputContainer = document.getElementById('plan-output');
            const planLoader = document.getElementById('plan-loader');
            const promoModal = document.getElementById('promo-modal');
            const submitPromoButton = document.getElementById('submit-promo-button');
            const noPromoButton = document.getElementById('no-promo-button');
            const promoPasswordInput = document.getElementById('promo-password-input');
            const promoError = document.getElementById('promo-error');
            const generateLogoButton = document.getElementById('generate-logo-button');
            const logoDescriptionInput = document.getElementById('logo-description');
            const logoOutputContainer = document.getElementById('logo-output');
            const logoLoader = document.getElementById('logo-loader');
            const nameDescriptionInput = document.getElementById('name-description');
            const generateNameButton = document.getElementById('generate-name-button');
            const nameLoader = document.getElementById('name-loader');
            const nameOutputContainer = document.getElementById('name-output');
            const supplierBusinessTypeInput = document.getElementById('supplier-business-type');
            const supplierLocationInput = document.getElementById('supplier-location');
            const generateSupplierButton = document.getElementById('generate-supplier-button');
            const supplierLoader = document.getElementById('supplier-loader');
            const supplierOutputContainer = document.getElementById('supplier-output');
            const generateIdeaButton = document.getElementById('generate-idea-button');
            const ideaDescriptionInput = document.getElementById('idea-description');
            const ideaLoader = document.getElementById('idea-loader');
            const ideaOutputContainer = document.getElementById('idea-output');
            const generateCopyButton = document.getElementById('generate-copy-button');
            const copyDescriptionInput = document.getElementById('copy-description');
            const copyLoader = document.getElementById('copy-loader');
            const copyOutputContainer = document.getElementById('copy-output');
            const generateDocumentButton = document.getElementById('generate-document-button');
            const documentDescriptionInput = document.getElementById('document-description');
            const documentLoader = document.getElementById('document-loader');
            const documentOutputContainer = document.getElementById('document-output');
            
            function togglePromoModal(show) {
                if (!promoModal) return;
                promoError.classList.add('hidden');
                promoPasswordInput.value = '';
                if (show) {
                    promoModal.classList.remove('hidden');
                    setTimeout(() => promoModal.classList.remove('opacity-0'), 10);
                } else {
                    promoModal.classList.add('opacity-0');
                    setTimeout(() => promoModal.classList.add('hidden'), 300);
                }
            }

            async function handlePlanGeneration() {
                if (!businessDescriptionInput) return;
                const description = businessDescriptionInput.value.trim();
                
                generatePlanButton.disabled = true;
                planOutputContainer.innerHTML = '';
                planLoader.classList.remove('hidden');

                const prompt = `You are an expert business consultant AI. A user has provided the following business idea: '${description}'. Based on this idea, and using your knowledge and access to real-time information, generate a comprehensive business plan. Please provide the output in a structured JSON format. The JSON object should have a single key 'plan', which is an array of objects. Each object in the array should represent a section of the business plan and have the following properties: 'title' (a string), 'icon' (a relevant Lucide icon name as a string, e.g., 'search', 'megaphone', 'lightbulb', 'file-text', 'sliders-horizontal'), and 'content' (a detailed string for that section, formatted with paragraphs). The plan must include at least these sections: Executive Summary, Market Analysis, Social Media & Marketing Strategy, Operations & Automation, and Key Advice & Next Steps. The content should be insightful, actionable, and tailored specifically to the user's idea.`;
                
                try {
                    const planSections = await callGemini(prompt, {
                        responseSchema: {
                            type: "OBJECT",
                            properties: { "plan": { type: "ARRAY", items: { type: "OBJECT", properties: { "title": { "type": "STRING" }, "icon": { "type": "STRING" }, "content": { "type": "STRING" } }, required: ["title", "icon", "content"] } } },
                            required: ["plan"]
                        }
                    });

                    planLoader.classList.add('hidden');
                    const delay = ms => new Promise(res => setTimeout(res, ms));

                    for (const section of planSections.plan) {
                        await delay(500);
                        const sectionEl = document.createElement('div');
                        sectionEl.className = 'bg-white p-6 rounded-xl border border-gray-200 shadow-sm animate-fade-in';
                        sectionEl.innerHTML = `<h3 class="text-2xl font-bold text-[#1e3a8a] flex items-center mb-3"><i data-lucide="${section.icon || 'file-text'}" class="mr-3"></i>${section.title}</h3><p class="text-gray-700 leading-relaxed whitespace-pre-wrap">${section.content}</p>`;
                        planOutputContainer.appendChild(sectionEl);
                        lucide.createIcons();
                        sectionEl.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                } catch (error) {
                    console.error("Error generating plan:", error);
                    planLoader.classList.add('hidden');
                    planOutputContainer.innerHTML = `<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg" role="alert"><strong class="font-bold">Oops!</strong><span class="block sm:inline"> Something went wrong. Please try again.</span></div>`;
                } finally {
                    generatePlanButton.disabled = false;
                }
            }

            async function handleLogoGeneration() {
                if (!logoDescriptionInput) return;
                const description = logoDescriptionInput.value.trim();
                if (!description) {
                    alert('Please describe your brand first.');
                    return;
                }

                generateLogoButton.disabled = true;
                logoOutputContainer.innerHTML = '';
                logoLoader.classList.remove('hidden');

                const prompt = `You are a creative branding expert AI. A user has described their brand: '${description}'. Generate 3 distinct and creative logo concepts. For each concept, provide a title, a detailed description of the visual elements, and the reasoning behind the design choices. Output this as a JSON object with a key 'logo_ideas', which is an array of objects. Each object should have 'title' and 'description' properties.`;
                
                try {
                    const logoIdeas = await callGemini(prompt, {
                        responseSchema: {
                            type: "OBJECT",
                            properties: { "logo_ideas": { type: "ARRAY", items: { type: "OBJECT", properties: { "title": { "type": "STRING" }, "description": { "type": "STRING" } }, required: ["title", "description"] } } },
                            required: ["logo_ideas"]
                        }
                    });

                    logoLoader.classList.add('hidden');
                    logoIdeas.logo_ideas.forEach(idea => {
                        const ideaEl = document.createElement('div');
                        ideaEl.className = 'bg-white p-6 rounded-xl border border-gray-200 shadow-sm animate-fade-in';
                        ideaEl.innerHTML = `<h3 class="text-xl font-bold text-[#1e3a8a] mb-2">${idea.title}</h3><p class="text-gray-700">${idea.description}</p>`;
                        logoOutputContainer.appendChild(ideaEl);
                    });

                } catch (error) {
                    console.error("Error generating logo ideas:", error);
                    logoLoader.classList.add('hidden');
                    logoOutputContainer.innerHTML = `<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg md:col-span-2" role="alert"><strong class="font-bold">Oops!</strong><span class="block sm:inline"> Something went wrong. Please try again.</span></div>`;
                } finally {
                    generateLogoButton.disabled = false;
                }
            }
            
            async function handleNameGeneration() {
                if (!nameDescriptionInput) return;
                const description = nameDescriptionInput.value.trim();
                if (!description) {
                    alert('Please describe your business for name ideas first.');
                    return;
                }

                generateNameButton.disabled = true;
                nameOutputContainer.innerHTML = '';
                nameLoader.classList.remove('hidden');

                const prompt = `You are a creative branding expert AI. A user has described their business: '${description}'. Generate 5 creative and memorable business names. For each name, provide a short, compelling reason why it's a good fit. Output this as a JSON object with a key 'name_ideas', which is an array of objects. Each object should have 'name' and 'reason' properties.`;
                
                try {
                    const nameIdeas = await callGemini(prompt, {
                        responseSchema: {
                            type: "OBJECT",
                            properties: { "name_ideas": { type: "ARRAY", items: { type: "OBJECT", properties: { "name": { "type": "STRING" }, "reason": { "type": "STRING" } }, required: ["name", "reason"] } } },
                            required: ["name_ideas"]
                        }
                    });

                    nameLoader.classList.add('hidden');
                    nameIdeas.name_ideas.forEach(idea => {
                        const ideaEl = document.createElement('div');
                        ideaEl.className = 'bg-white p-4 rounded-xl border border-gray-200 shadow-sm animate-fade-in';
                        ideaEl.innerHTML = `<h3 class="text-lg font-bold text-[#1e3a8a]">${idea.name}</h3><p class="text-gray-600 text-sm">${idea.reason}</p>`;
                        nameOutputContainer.appendChild(ideaEl);
                    });

                } catch (error) {
                    console.error("Error generating names:", error);
                    nameLoader.classList.add('hidden');
                    nameOutputContainer.innerHTML = `<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg md:col-span-2" role="alert"><strong class="font-bold">Oops!</strong><span class="block sm:inline"> Something went wrong. Please try again.</span></div>`;
                } finally {
                    generateNameButton.disabled = false;
                }
            }

            async function handleSupplierGeneration() {
                if (!supplierBusinessTypeInput || !supplierLocationInput) return;
                const businessType = supplierBusinessTypeInput.value.trim();
                const location = supplierLocationInput.value.trim();
                if (!businessType || !location) {
                    alert('Please provide both a business type and a location.');
                    return;
                }

                generateSupplierButton.disabled = true;
                supplierOutputContainer.innerHTML = '';
                supplierLoader.classList.remove('hidden');

                const prompt = `As a procurement specialist AI, identify potential categories of suppliers for a '${businessType}' located in '${location}'. Do not list specific company names. Instead, provide a list of supplier *types* and a brief description of what to look for in each. For example, for a coffee shop, you might suggest "Coffee Bean Roasters" and "Local Bakeries". Output this as a JSON object with a key 'supplier_categories', which is an array of objects. Each object should have 'type' and 'description' properties.`;
                
                try {
                    const supplierIdeas = await callGemini(prompt, {
                        responseSchema: {
                            type: "OBJECT",
                            properties: { "supplier_categories": { type: "ARRAY", items: { type: "OBJECT", properties: { "type": { "type": "STRING" }, "description": { "type": "STRING" } }, required: ["type", "description"] } } },
                            required: ["supplier_categories"]
                        }
                    });

                    supplierLoader.classList.add('hidden');
                    supplierIdeas.supplier_categories.forEach(idea => {
                        const ideaEl = document.createElement('div');
                        ideaEl.className = 'bg-white p-4 rounded-xl border border-gray-200 shadow-sm animate-fade-in';
                        ideaEl.innerHTML = `<h3 class="text-lg font-bold text-[#1e3a8a]">${idea.type}</h3><p class="text-gray-600 text-sm">${idea.description}</p>`;
                        supplierOutputContainer.appendChild(ideaEl);
                    });

                } catch (error) {
                    console.error("Error generating suppliers:", error);
                    supplierLoader.classList.add('hidden');
                    supplierOutputContainer.innerHTML = `<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg md:col-span-2" role="alert"><strong class="font-bold">Oops!</strong><span class="block sm:inline"> Something went wrong. Please try again.</span></div>`;
                } finally {
                    generateSupplierButton.disabled = false;
                }
            }
            
            async function handleIdeaGeneration() {
                if (!ideaDescriptionInput) return;
                const description = ideaDescriptionInput.value.trim();
                if (!description) {
                    alert('Please describe your interests or target market first.');
                    return;
                }

                generateIdeaButton.disabled = true;
                ideaOutputContainer.innerHTML = '';
                ideaLoader.classList.remove('hidden');

                const prompt = `You are a business idea generator AI. Based on the user's interests/market: '${description}', generate 3 innovative business or product ideas. For each idea, provide a name and a short, compelling description. Output this as a JSON object with a key 'business_ideas', which is an array of objects. Each object should have 'name' and 'description' properties.`;
                
                try {
                    const ideas = await callGemini(prompt, {
                        responseSchema: {
                            type: "OBJECT",
                            properties: { "business_ideas": { type: "ARRAY", items: { type: "OBJECT", properties: { "name": { "type": "STRING" }, "description": { "type": "STRING" } }, required: ["name", "description"] } } },
                            required: ["business_ideas"]
                        }
                    });

                    ideaLoader.classList.add('hidden');
                    ideas.business_ideas.forEach(idea => {
                        const ideaEl = document.createElement('div');
                        ideaEl.className = 'bg-white p-6 rounded-xl border border-gray-200 shadow-sm animate-fade-in';
                        ideaEl.innerHTML = `<h3 class="text-xl font-bold text-[#1e3a8a] mb-2">${idea.name}</h3><p class="text-gray-700">${idea.description}</p>`;
                        ideaOutputContainer.appendChild(ideaEl);
                    });

                } catch (error) {
                    console.error("Error generating ideas:", error);
                    ideaLoader.classList.add('hidden');
                    ideaOutputContainer.innerHTML = `<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg" role="alert"><strong class="font-bold">Oops!</strong><span class="block sm:inline"> Something went wrong. Please try again.</span></div>`;
                } finally {
                    generateIdeaButton.disabled = false;
                }
            }

            async function handleCopyGeneration() {
                if (!copyDescriptionInput) return;
                const description = copyDescriptionInput.value.trim();
                if (!description) {
                    alert('Please describe your product or service first.');
                    return;
                }

                generateCopyButton.disabled = true;
                copyOutputContainer.innerHTML = '';
                copyLoader.classList.remove('hidden');

                const prompt = `You are an expert marketing copywriter. A user described their product: '${description}'. Generate a short, compelling marketing copy for a social media ad. It should include a catchy headline, a body explaining the benefits, and a strong call to action.`;
                
                try {
                    const copy = await callGemini(prompt);
                    copyLoader.classList.add('hidden');
                    copyOutputContainer.textContent = copy;
                } catch (error) {
                    console.error("Error generating copy:", error);
                    copyLoader.classList.add('hidden');
                    copyOutputContainer.textContent = "Sorry, there was an error generating the marketing copy. Please try again.";
                } finally {
                    generateCopyButton.disabled = false;
                }
            }

            async function handleDocumentGeneration() {
                if (!documentDescriptionInput) return;
                const description = documentDescriptionInput.value.trim();
                if (!description) {
                    alert('Please describe the document you need.');
                    return;
                }

                generateDocumentButton.disabled = true;
                documentOutputContainer.innerHTML = '';
                documentLoader.classList.remove('hidden');

                const prompt = `You are an AI assistant that generates document templates. A user needs a document based on this description: '${description}'. Generate a simple, clear template for this document. Use placeholders like [Your Name/Company], [Client Name], [Date], etc. where appropriate. Start with a clear title. This is not legal advice.`;
                
                try {
                    const doc = await callGemini(prompt);
                    documentLoader.classList.add('hidden');
                    documentOutputContainer.textContent = doc;
                } catch (error) {
                    console.error("Error generating document:", error);
                    documentLoader.classList.add('hidden');
                    documentOutputContainer.textContent = "Sorry, there was an error generating the document. Please try again.";
                } finally {
                    generateDocumentButton.disabled = false;
                }
            }
            
            if (generatePlanButton) {
                generatePlanButton.addEventListener('click', () => {
                    if (!businessDescriptionInput.value.trim()) {
                        alert('Please describe your business idea first.');
                        return;
                    }
                    togglePromoModal(true);
                });
            }
            if (submitPromoButton) {
                submitPromoButton.addEventListener('click', () => {
                    const correctPassword = "MSTYCFREE";
                    if (promoPasswordInput.value === correctPassword) {
                        togglePromoModal(false);
                        handlePlanGeneration();
                    } else {
                        promoError.classList.remove('hidden');
                    }
                });
            }
            if (noPromoButton) {
                noPromoButton.addEventListener('click', () => {
                    togglePromoModal(false);
                    alert("Payment gateway integration is coming soon!");
                });
            }
            if (generateLogoButton) generateLogoButton.addEventListener('click', handleLogoGeneration);
            if (generateNameButton) generateNameButton.addEventListener('click', handleNameGeneration);
            if (generateSupplierButton) generateSupplierButton.addEventListener('click', handleSupplierGeneration);
            if (generateIdeaButton) generateIdeaButton.addEventListener('click', handleIdeaGeneration);
            if (generateCopyButton) generateCopyButton.addEventListener('click', handleCopyGeneration);
            if (generateDocumentButton) generateDocumentButton.addEventListener('click', handleDocumentGeneration);
        }

        // --- Networking Page ---
        function initializeNetworkingPage() {
            const profileFormSection = document.getElementById('profile-form-section');
            const profileListSection = document.getElementById('profile-list-section');
            const profileForm = document.getElementById('profile-form');
            
            const userProfile = JSON.parse(localStorage.getItem('userProfile'));

            if (userProfile) {
                profileFormSection.classList.add('hidden');
                profileListSection.classList.remove('hidden');
                displayProfiles();
            } else {
                profileFormSection.classList.remove('hidden');
                profileListSection.classList.add('hidden');
            }

            if (profileForm && !profileForm.dataset.listenerAttached) {
                profileForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const bioInput = document.getElementById('profile-bio');
                    const bioError = document.getElementById('bio-error');
                    if (bioInput.value.length < 50) {
                        bioError.classList.remove('hidden');
                        return;
                    }
                    bioError.classList.add('hidden');

                    const newProfile = {
                        firstName: document.getElementById('profile-first-name').value,
                        lastName: document.getElementById('profile-last-name').value,
                        age: document.getElementById('profile-age').value,
                        location: document.getElementById('profile-location').value,
                        bio: bioInput.value
                    };
                    localStorage.setItem('userProfile', JSON.stringify(newProfile));
                    profileFormSection.classList.add('hidden');
                    profileListSection.classList.remove('hidden');
                    displayProfiles();
                });
                profileForm.dataset.listenerAttached = 'true';
            }
        }

        function displayProfiles() {
            const profileListContainer = document.getElementById('profile-list-container');
            const currentUser = JSON.parse(localStorage.getItem('userProfile'));

            const mockProfiles = [
                { firstName: 'Ana', lastName: 'Kovač', age: 28, location: 'Maribor, Slovenia', bio: 'I am looking for a partner to develop a sustainable fashion brand. I have experience in marketing and e-commerce, and I need someone with design and production knowledge.' },
                { firstName: 'Luka', lastName: 'Novak', age: 35, location: 'Koper, Slovenia', bio: 'I am developing a mobile app for tourists on the Slovenian coast. I am a programmer and am looking for someone to take over the business and marketing side. I want to create something truly useful.' },
                { firstName: 'Eva', lastName: 'Horvat', age: 42, location: 'Celje, Slovenia', bio: 'I am an experienced manager in the hospitality industry and want to open my own restaurant with locally sourced food. I am looking for investors and perhaps a head chef with the same vision.' }
            ];
            
            const allProfiles = [currentUser, ...mockProfiles];

            profileListContainer.innerHTML = ''; // Clear previous list
            allProfiles.forEach(profile => {
                const profileCard = document.createElement('div');
                profileCard.className = 'bg-white p-6 rounded-xl border border-gray-200 shadow-sm';
                profileCard.innerHTML = `
                    <div class="flex items-center mb-4">
                        <img src="https://placehold.co/64x64/1e3a8a/ffffff?text=${profile.firstName.charAt(0)}${profile.lastName.charAt(0)}" alt="Profile picture" class="w-16 h-16 rounded-full mr-4">
                        <div>
                            <h3 class="text-xl font-bold">${profile.firstName} ${profile.lastName}</h3>
                            <p class="text-gray-500">${profile.age} years old, ${profile.location}</p>
                        </div>
                    </div>
                    <p class="text-gray-700">${profile.bio}</p>
                `;
                profileListContainer.appendChild(profileCard);
            });
        }
        
        // --- Promotion Page ---
        function initializePromotionPageListeners() {
            const generatePromoButton = document.getElementById('generate-promo-button');
            const promoNameInput = document.getElementById('promo-name');
            const promoDescriptionInput = document.getElementById('promo-description');
            const promoLoader = document.getElementById('promo-loader');
            const promoOutputContainer = document.getElementById('promo-output');

            async function handlePromotionGeneration() {
                const lastPromoDate = localStorage.getItem('lastPromotionDate');
                const today = new Date().toDateString();

                if (lastPromoDate === today) {
                    alert('You have already used your free promotion for today. Please upgrade to Pro for unlimited promotions.');
                    return;
                }

                const name = promoNameInput.value.trim();
                const description = promoDescriptionInput.value.trim();

                if (!name || !description) {
                    alert('Please enter both a company name and a description.');
                    return;
                }

                generatePromoButton.disabled = true;
                promoOutputContainer.classList.add('hidden');
                promoLoader.classList.remove('hidden');

                const prompt = `You are a marketing expert. Create a short, catchy advertisement for a company named "${name}". The company is described as: "${description}". The ad should have a headline, a body, and a call to action. Output this as a JSON object with keys 'headline', 'body', and 'cta'.`;

                try {
                    const ad = await callGemini(prompt, {
                        responseSchema: {
                            type: "OBJECT",
                            properties: {
                                "headline": { "type": "STRING" },
                                "body": { "type": "STRING" },
                                "cta": { "type": "STRING" }
                            },
                            required: ["headline", "body", "cta"]
                        }
                    });

                    promoLoader.classList.add('hidden');
                    document.getElementById('promo-headline').textContent = ad.headline;
                    document.getElementById('promo-body').textContent = ad.body;
                    document.getElementById('promo-cta').textContent = ad.cta;
                    promoOutputContainer.classList.remove('hidden');

                    // Set the date for the free user limit
                    localStorage.setItem('lastPromotionDate', today);

                } catch (error) {
                    console.error("Error generating promotion:", error);
                    promoLoader.classList.add('hidden');
                    alert("Sorry, there was an error generating your promotion. Please try again.");
                } finally {
                    generatePromoButton.disabled = false;
                }
            }

            if (generatePromoButton) {
                generatePromoButton.addEventListener('click', handlePromotionGeneration);
            }
        }


        // --- Event Listener Initialization ---
        function initializeEventListeners() {
            hamburgerButton.addEventListener('click', () => mobileMenu.classList.remove('-translate-x-full'));
            closeMenuButton.addEventListener('click', () => mobileMenu.classList.add('-translate-x-full'));
            
            initializePlannerPageListeners(); 
            initializeChatPageListeners();
            initializeSupportListeners();
            initializePromotionPageListeners();
        }

        // --- Initial Page Load and History Handling ---
        document.addEventListener('DOMContentLoaded', () => {
            const initialPage = window.location.hash.substring(1) || 'home';
            showPage(initialPage);
            initializeEventListeners();
            const styleSheet = document.createElement("style");
            styleSheet.type = "text/css";
            styleSheet.innerText = `@keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } } .animate-fade-in { animation: fade-in 0.5s ease-out forwards; }`;
            document.head.appendChild(styleSheet);
        });
        
        window.onpopstate = () => {
            const pageId = window.location.hash.substring(1) || 'home';
            showPage(pageId);
        };
    </script>
</body>
</html>
